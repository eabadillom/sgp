<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/plantillas/template.xhtml">
	<ui:define name="title">Préstamos INFONAVIT</ui:define>
	<ui:define name="content">
		<h:form id="form">
			<p:growl id="messages" showDetail="true" life="4000"/>
			<p:dialog modal="true" widgetVar="statusDialog" header="Cargando información..." draggable="false" closable="false" resizable="false">
				<div align="center">
		              <i class="pi pi-spinner pi-spin" style="font-size:3rem;"></i>
				</div>
		    </p:dialog>
			<p:dataTable id="dt-empleado" widgetVar="dtEmpleado" value="#{pInfonavitBean.empleados}" var="empleado" allowUnsorting="true" sortMode="single">
				<p:column headerText="Nombre" sortBy="#{empleado.nombre}" sortOrder="asc">
					<p:outputLabel value="#{empleado.nombre}" />
				</p:column>
				<p:column headerText="Primer Apellido" sortBy="#{empleado.primerAp}">
					<p:outputLabel value="#{empleado.primerAp}" />
				</p:column>
				<p:column headerText="Segundo Apellido" sortBy="#{empleado.segundoAp}">
					<p:outputLabel value="#{empleado.segundoAp}" />
				</p:column>
				<p:column width="3rem">
					<p:commandButton icon="pi pi-bars" onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();PF('dgPrestamo').show();" action="#{pInfonavitBean.cargaPrestamo}" process="@this">
						<f:setPropertyActionListener value="#{empleado}" target="#{pInfonavitBean.empleado}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>
			<!-- <div class="ui-fluid">
				<p:panelGrid columns="4" layout="grid">
					<p:outputLabel value="HOLA MUNDO"></p:outputLabel>
				</p:panelGrid>
			</div> -->
			<p:dialog id="dg-prestamo" widgetVar="dgPrestamo" header="Préstamos del empleado" showEffect="hide" modal="true">
				
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>